# conf/slurm.conf

# Default configuration
command sbatch --export=PATH
option name=* --job-name $0
default time=2-00:00:00
option time=* --time $0
option mem=* --mem-per-cpu $0
option mem=0
option num_threads=* --cpus-per-task $0
option num_threads=1 --cpus-per-task 1
option num_nodes=* --nodes $0
default gpu=0
option gpu=0 -p cpu --mem-per-cpu 2000M --account=bbjs-delta-cpu
option gpu=1 -p gpuA40x4 --gres=gpu:1 -c 8  --mem 32000M  --account=bbjs-delta-gpu
option gpu=2 -p gpuA40x4 --gres=gpu:2 -c 16 --mem 64000M  --account=bbjs-delta-gpu
option gpu=3 -p gpuA40x4 --gres=gpu:3 -c 24 --mem 96000M  --account=bbjs-delta-gpu
option gpu=4 -p gpuA40x4 --gres=gpu:4 -c 32 --mem 128000M --account=bbjs-delta-gpu
# option gpu=1 -p gpuA100x4 --gres=gpu:1 -c 8  --mem 32000M  --account=bbjs-delta-gpu
# option gpu=2 -p gpuA100x4 --gres=gpu:2 -c 16 --mem 64000M  --account=bbjs-delta-gpu
# option gpu=3 -p gpuA100x4 --gres=gpu:3 -c 24 --mem 96000M  --account=bbjs-delta-gpu
# option gpu=4 -p gpuA100x4 --gres=gpu:4 -c 32 --mem 128000M --account=bbjs-delta-gpu
# Recommend allocating more CPU than, or equal to the number of GPU
# note: the --max-jobs-run option is supported as a special case
# by slurm.pl and you don't have to handle it in the config file.
